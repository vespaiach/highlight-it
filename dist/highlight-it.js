"use strict";(()=>{var d=(o,r)=>()=>(o&&(r=o(o=0)),r);var C=(o,r)=>()=>(r||o((r={exports:{}}).exports,r),r.exports);var m,w=d(()=>{"use strict";m=class{appendTo(r,e="head"){let{tagName:i,src:t}=r,a,s,E=new Promise((k,$)=>{[a,s]=[k,$]}),n;return i==="link"?(n=document.createElement("link"),n.rel="stylesheet",n.href=t):(n=document.createElement("script"),n.defer=!0,n.src=t),n.onload=()=>{a()},n.onerror=()=>{s(new Error("Failed to load ".concat(i,": ").concat(t)))},e==="body"?document.body.appendChild(n):document.head.appendChild(n),E}waitUntil(r,e=15e3){return new Promise((i,t)=>{if(r()){i();return}try{let a=Date.now(),s=setInterval(()=>{r()?(clearInterval(s),i()):Date.now()-a>e&&(clearInterval(s),t(new Error("Highlighting engine failed to load within expected time.")))},50)}catch(a){t(a)}})}}});function b(o){u=o}function l(...o){u&&console.log("[highlight-it LOG]: ",...o)}function h(...o){u&&console.warn("[highlight-it WARN]: ",...o)}function g(...o){console.error("[highlight-it ERROR]: ",...o)}var u,f=d(()=>{"use strict";u=!1});var p,T,P,c,y=d(()=>{"use strict";w();f();p="https://cdn.jsdelivr.net/gh/PrismJS/prism@1.30.0",T=[["autoloader",!1],["toolbar",!0],["copy-to-clipboard",!1],["line-numbers",!0],["line-highlight",!0]],P=["coy","dark","funky","okaidia","solarizedlight","tomorrow","twilight","prism"],c=class extends m{constructor(e){super();this.resources=[];let{theme:i,darkMode:t}=e;this.setTheme(i,t||""),this.setPlugins()}async initialize(){window.Prism?window.Prism.manual=!0:window.Prism={manual:!0};try{await this.appendTo({tagName:"script",src:"".concat(p,"/components/prism-core.min.js")},"body"),await this.waitUntil(()=>{var e;return!!((e=window.Prism)!=null&&e.filename)}),l("Core script loaded."),await Promise.all([...this.resources.map(e=>this.appendTo(e,e.tagName==="link"?"head":"body")),this.waitUntil(()=>{var e,i;return!!((i=(e=window.Prism)==null?void 0:e.plugins)!=null&&i.autoloader)})]),l("[Prism Engine] All resources loaded.",this.resources)}catch(e){g("Error during initialization:",e)}}setTheme(e,i){var a;let t=s=>{this.resources.push({tagName:"link",src:"".concat(p,"/themes/").concat(s==="prism"?"prism":"prism-".concat(s),".min.css")})};if(i&&P.includes(i)){let s=(a=window.matchMedia)==null?void 0:a.call(window,"(prefers-color-scheme: dark)").matches;t(i),l('[Prism Engine] Dark mode theme "'.concat(i,'" will be applied automatically based on system preference (currently ').concat(s?"dark":"light"," mode)."))}else P.includes(e)?t(e):(t("prism"),h('[Prism Engine] Theme "'.concat(e,'" is not supported.')))}setPlugins(){T.forEach(e=>{let[i,t]=e;t&&this.resources.push({tagName:"link",src:"".concat(p,"/plugins/").concat(i,"/prism-").concat(i,".min.css")}),this.resources.push({tagName:"script",src:"".concat(p,"/plugins/").concat(i,"/prism-").concat(i,".min.js")})}),document.body.classList.add("line-numbers")}async highlight(){var e,i;(i=(e=window.Prism)==null?void 0:e.highlightAll)==null||i.call(e)}}});var v=d(()=>{"use strict";y()});var L=C(()=>{v();f();(async()=>{if(typeof document>"u"||window.__highlightItInitialized)return;window.__highlightItInitialized=!0;function o(){let r=document.currentScript,e={theme:"prism",darkMode:"",verbose:!1};if(r&&r instanceof HTMLScriptElement&&r.src)try{let i=new URL(r.src);e.theme=i.searchParams.get("theme")||i.searchParams.get("config")||"prism",e.darkMode=i.searchParams.get("darkmode")||i.searchParams.get("darkMode");let t=i.searchParams.get("verbose");t&&(e.verbose=["true","1","yes","on"].includes(t.toLowerCase()))}catch(i){return h("Failed to parse script URL:",i),e}return e}try{let{theme:r,darkMode:e,verbose:i}=o();b(i),l("highlight-it initialized with config:",{theme:r,darkMode:e,verbose:i});let t=new c({theme:r,darkMode:e});await t.initialize(),await t.highlight(),l("highlight-it: Code highlighting completed")}catch(r){g("highlight-it error:",r)}})()});L();})();
//# sourceMappingURL=highlight-it.js.map
